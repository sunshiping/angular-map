function NgTablecroll(e){function t(e,t){return window.getComputedStyle(e,null).getPropertyValue(t)}var o=function(){var e=document.createElement("div");e.style.background="none",e.style.display="none",document.body.appendChild(e);var o=t(e,"background-color");return document.body.removeChild(e),o}();return{restrict:"A",link:function(i,l,n){e(function(){function e(e,i){function l(e){return t(e,"background-color")==o?"body"!==e.tagName.toLowerCase()?l(e.parentNode):i||o:t(e,"background-color")}return l(e)}console.log("a");var d=l[0];if("table"===d.tagName.toLowerCase()){var r=i.$eval(n.ngTablescroll)||{},a=d.parentElement,s=a.offsetWidth,c=parseInt(r.width||a.offsetWidth),h=parseInt(r.width||a.offsetWidth)-17,f=parseInt(r.height||a.offsetHeight);if(d.offsetWidth<=c&&d.offsetHeight<=f)console.log(d.offsetWidth);else{var p=function(){var e=document.createElement("div");e.style.cssText="height: 50px; width: 50px; overflow: scroll",e.style.visibility="hidden",document.body.appendChild(e);var t=document.createElement("div");t.style.height="99px",e.appendChild(t);var o=50-e.clientWidth;return document.body.removeChild(e),o}();d.style.width=c+"px";var g=document.createElement("div");g.style.cssText="overflow: hidden; width: "+c+"px; height: "+f+"px";var u=document.createElement("div");u.style.cssText="overflow: hidden; position: relative; width: "+h+"px",r.headerCss&&u.classList.add(r.headerCss);var v=d.cloneNode(!0);v.width=d.clientWidth+"px",v.removeChild(v.getElementsByTagName("tbody")[0]),v.deleteTFoot();var m=d.cloneNode(!0);m.width=d.offsetWidth+"px",m.removeChild(m.getElementsByTagName("tbody")[0]),m.deleteTHead();var y=null,x=d.getElementsByTagName("thead"),w=v.getElementsByTagName("th"),b=m.getElementsByTagName("td");if(x[0])for(var T=x[0].getElementsByTagName("th"),C=0;C<T.length;C++)!function(t){var o=T[t],i=o.offsetWidth;null==y&&(y=r.backgroundcolor||e(o,null)),"rgba(0, 0, 0, 0)"!=y&&"transparent"!=y||(y="#fff"),o.style.width=i+"px",w[t]&&(w[t].onclick=function(){o.click()},w[t].style.width=i+"px"),b[t]&&(b[t].onclick=function(){o.click()},b[t].style.width=i+"px")}(C);var E=document.createElement("div");E.style.cssText="overflow: hidden; position: relative; background-color: "+y+"; width: "+c+"px",v.style.cssText="table-layout: fixed; background-color: "+y,m.style.cssText="table-layout: fixed; background-color: "+y,d.style.tableLayout="fixed";var N=document.createElement("div");N.addEventListener("scroll",function(){u.scrollLeft=N.scrollLeft,E.scrollLeft=N.scrollLeft}),u.appendChild(v),E.appendChild(m),d.parentNode.insertBefore(g,d),d.parentNode.removeChild(d),N.appendChild(d),g.appendChild(u),g.appendChild(N),g.appendChild(E),d.offsetHeight+u.offsetHeight+E.offsetHeight>=f&&(u.style.width=u.offsetWidth-p+"px",E.style.width=E.offsetWidth-p+"px");var W=parseFloat(N.style.marginTop||"0");W-=u.offsetHeight;var k=parseFloat(N.style.marginBottom||"0");k-=E.offsetHeight,d.offsetWidth+p>=c&&(k-=p),N.style.cssText="overflow: auto; margin-top: "+W+"px; margin-bottom: "+k+"px; width: "+c+"px; height: "+f+"px",function(){var e=-1,t=navigator.userAgent;return new RegExp("Trident/([0-9]{1,}[.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1)),4==e}()&&(d.getElementsByTagName("thead")[0].style.display="none"),r.reactive&&window.addEventListener("resize",function(){if(s!=a.offsetWidth){var e=a.offsetWidth;if(r.width&&e>r.width)return;g.style.cssText="overflow: hidden; width: "+e+"px; height: "+f+"px",u.style.cssText="overflow: hidden; position: relative; width: "+(e-p)+"px",N.style.cssText="overflow: auto; margin-top: "+W+"px; margin-bottom: "+k+"px; width: "+e+"px; height: "+(f-p)+"px",E.style.cssText="overflow: hidden; position: relative; width: "+(e-p)+"px",s=e}})}}})}}}angular.module("ngTablescroll",[]).directive("ngTablescroll",["$timeout",NgTablecroll]);