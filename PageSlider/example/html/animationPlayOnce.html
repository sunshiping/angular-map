<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no, minimal-ui">
    <meta content="yes" name="apple-mobile-web-app-capable">
    <meta content="black" name="apple-mobile-web-app-status-bar-style">
    <meta name="format-detection" content="telephone=no, email=no">
    <title>animationPlayOnce</title>
    <link rel="stylesheet" href="../css/style.css"/>
    <!--custom style-->
    <style>
        .current .title {
            -webkit-animation: slideToTop .8s ease both;
        }

        .current .subtitle {
            -webkit-animation: slideToTop .8s 0.3s ease both;
        }
    </style>
</head>
<body>
<div class="page-wrap">
    <div class="page">
        <div class="title">page one</div>
        <div class="subtitle">page one subtitle</div>
        <div class="arrow"></div>
    </div>

    <div class="page">
        <div class="title">page two</div>
        <div class="subtitle">page two subtitle</div>
        <div class="arrow"></div>
    </div>
    <div class="page" style="-webkit-overflow-scrolling: touch;">
        <div class="page__inner" style="position: relative; height: 800px;">
            <div class="title">page three</div>
            <div class="subtitle">page two subtitle</div>
            <div style="position: absolute; left: 20px; bottom: 10%">long page</div>
            <div class="arrow"></div>
        </div>
    </div>
    <div class="page">
        <div class="title">page four</div>
        <div class="subtitle">page four subtitle</div>
    </div>
</div>

<script src="../js/zepto.min.js"></script>
<script src="../js/PageSlider.js"></script>
<script>
    new PageSlider({
        pages: $('.page-wrap .page'),
        animationPlayOnce: true,
        currentClass: 'current',
        oninit: function () {
            console.log('1111');
        },         //可选，初始化完成时的回调
        onbeforechange: function () {
            console.log('2222')
        }, //可选，开始切换前的回调
        onchange: function () {
            console.log('333')
        },       //可选，每一屏切换完成时的回调
        onSwipeUp: function () {
            console.log('4444')
            if (this.index === this.length - 1) {
                this.moveTo(0, true);
            }
        },      //可选，swipeUp 回调
        onSwipeDown: function () {
            console.log('555')
        },    //可选，swipeDown 回调
    });
</script>
</body>
</html>